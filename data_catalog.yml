# data_catalog.yml — canonical column maps for strategy-specific CSV exports
# NOTE:
# - "columns" list the intended logical headers we normalize to (code reads these names).
# - "aliases" let the loader match Barchart’s header variants (case-insensitive).
# - Keep dataset IDs stable; engine.yaml and scripts reference them by id.

footer_markers:
  - "Downloaded from Barchart.com as of" # rows starting with this should be ignored

datasets:
  # ───────── STOCKS — CSP ─────────
  csp:
    file: data/csp-latest.csv
    columns:
      - Symbol
      - Price~
      - "Exp Date"
      - DTE
      - Strike
      - Type
      - Moneyness
      - Bid
      - "BE (Bid)"
      - "%BE (Bid)"
      - Volume
      - "Open Int"
      - "IV Rank"
      - Delta
      - Return
      - "Ann Rtn"
      - "Profit Prob"

  # ───────── STOCKS — Covered Calls (sell call against 100 shares) ─────────
  covered_call:
    file: data/covered_call-latest.csv
    columns:
      - Symbol
      - %Chg~
      - Volume~
      - Price~
      - "Exp Date"
      - DTE
      - Strike
      - Type
      - Moneyness
      - Bid
      - Ask
      - Mid
      - Volume
      - "Open Int"
      - "IV Rank"
      - Delta
      - Theta
      - "BE (Ask)"
      - "%BE (Ask)"
      - "ITM Prob"
      - "TP Ask"
      - "%TP Ask(a)"
      - "Static Ann Rtn"
      - "Ann Yield to Strike%"
      - "Exp B4 Earnings"

  # ───────── STOCKS — LEAP long calls (for PMCC/diagonals) ─────────
  leap:
    file: data/leap-latest.csv
    columns:
      - Symbol
      - "Exp Date"
      - DTE
      - Strike
      - Type
      - Bid
      - Ask
      - Ask
      - Last
      - %Chg~
      - Volume~
      - Moneyness
      - Volume
      - "Open Int"
      - "IV Rank"
      - "Vol %Chg"
      - Delta
      - Theta
      - Gamma
      - Vega
      - "BE (Ask)"
      - "%BE (Ask)"
      - "ITM Prob"
      - "Short Term~"
      - "52W High~"

  # ───────── FUNDS — Bull Call Vertical (debit) ─────────
  vertical_bull_call:
    file: data/vertical_bull_call-latest.csv
    columns:
      - Symbol
      - Price~
      - "Exp Date"
      - DTE
      - "Leg1 Strike"
      - Type
      - Ask1
      - "Leg2 Strike"
      - Type
      - Bid2
      - BE
      - BE%
      - "Max Profit"
      - "Max Loss"
      - "Max Profit%"
      - Risk/Reward
      - "IV Rank"
      - "Profit Prob"

  # ───────── FUNDS — Bull Put Vertical (credit) ─────────
  vertical_bull_put:
    file: data/vertical_bull_put-latest.csv
    columns:
      - Symbol
      - Price~
      - "Exp Date"
      - DTE
      - "Leg1 Strike"
      - Type
      - Bid1
      - "Leg2 Strike"
      - Type
      - Ask2
      - BE
      - BE%
      - "Max Profit"
      - "Max Loss"
      - "Max Profit%"
      - Risk/Reward
      - "IV Rank"
      - "Loss Prob"

  # ───────── FUNDS — Long Call Diagonal ─────────
  long_call_diagonal:
    file: data/long_call_diagonal-latest.csv
    columns:
      - Symbol
      - Price~
      - "Exp Leg1"
      - "Leg1 Strike"
      - Type
      - Ask1
      - "Exp Leg2"
      - "Leg2 Strike"
      - Type
      - Bid2
      - "Net Debit"
      - "Leg1 IV"
      - "Leg2 IV"
      - "(IV Skew)"
      - "IV Rank"
      - IV/HV
      - "Net Delta"
      - "Net Vega"

  # ───────── FUNDS — Short Iron Condor ─────────
  iron_condor:
    file: data/iron_condor-latest.csv
    columns:
      - Symbol
      - DTE
      - "Risk/Reward"
      - "IV Rank"
      - "Loss Prob"
      - "Max Profit"
      - "Max Loss"
